---
title: Generate and store
mode: 'wide'
---

## Why use the generate and store mode?

The generate and store mode is an all-integrated approach that combines the functionality of both the generate mode and the store mode. This mode is ideal for scenarios where you want to generate responses from different LLM providers and automatically store the messages in one seamless operation.

<Card title="Efficiency" icon="bolt" horizontal="true">
  Streamline your workflow by generating and storing messages in a single step.
  This integrated approach saves time and reduces complexity in your code.
</Card>
<Card title="Comprehensive Tracking" icon="clipboard-list" horizontal="true">
  Automatically store all generated messages for easy tracking, analysis, and
  auditing. Ensure no important information is lost in the process.
</Card>

In this mode, you get the benefits of both the generate and store modes:

- <b>Unified API:</b> Use the same API for all supported LLM providers.
- <b>No vendor lock-in:</b> Easily switch between various providers.
- <b>Structured Storage:</b> Messages are automatically stored in an organized format.
- <b>Easy Analysis:</b> Use the stored data for insights and improvements.

## Generate and store a message

By default when creating a new message using the `create` method, the message is generated and stored automatically. You can either provide a custom callback function to recieve the structured message and store it in your database, or use Lira's built-in storage (and Dashboard) to store the message.

Check out the [Store mode](/modes/store) for more information on how to configure the store.

```typescript
import { Lira } from 'lira'

const lira = new Lira()

const res = await lira.message.create()
```
