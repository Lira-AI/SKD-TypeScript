---
title: Message
mode: "wide"
---

<Tip>
  The goal of the store is to provide a way to store the input, output, request
  time, and error of a message in a structured way. This can be useful for
  debugging, logging, and monitoring.
</Tip>

The store object is a data structure that holds the input, output, request time, and error of a message. You can enable the store by setting the `store.enabled` option to `true` in the `Lira` instance. Then you can provide a custom callback that takes the store object as a parameter and will be called after the model has generated a response.

<br/>
⚠️ The callback is NOT awaited, to avoid blocking the main thread.
```typescript
const lira = new Lira({
  store: {
    enabled: true,
    callback?: (params: LiraMessageStore) => unknown
  }
})
```
This is the store object schema:
```typescript
{
  input: LiraMessageInputStore;
  output?: LiraMessageOutputStore;
  reqTime?: LiraMessageReqTimesStore;
  error?: unknown;
}
```
## Params
<ParamField  body="input" name="input" type="LiraMessageInputStore" required>
The same input object that was sent to the model to generate the response.
[Input object schema](/sdk-reference/messages/input)
<br/>
Pluse the following additional field:
```typescript
{
  provider?: "Anthropic" | "OpenAI"
}
```
</ParamField >

<ParamField body="output" name="output" type="LiraMessageOutputStore">
  The same output object that was generated by the model, described in the
  stream section. [Output object stream
  schema](/sdk-reference/messages/output/stream)
</ParamField>

<ParamField body="reqTime" name="reqTime" type="LiraMessageReqTimesStore">
  The request time object holds the time range it took to generate the response.
  ```typescript
  { 
    start: number;
    end: number;
  }
  ```
</ParamField>

<ParamField body="error" name="error" type="unknown">
  The error object holds the error that was thrown during the generation of the
  response.
</ParamField>
